(this["webpackJsonpbanking-app"]=this["webpackJsonpbanking-app"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(6),r=n.n(s),l=(n(11),n(12),n(2)),o=[{email:"admin@admin.com",password:"abc123",fullname:"Admin Account",type:"Savings Peso",number:"47290539480",balance:1e3,isAdmin:!0},{email:"jeff@gmail.com",password:"abc123",fullname:"Jeffrey de Lara",type:"Savings Peso",number:"47290539481",balance:1029300.43,isAdmin:!0},{email:"jeff2@gmail.com",password:"abc123",fullname:"Juan dela Cruz",type:"Savings Peso",number:"47290539482",balance:392830.22,isAdmin:!1},{email:"user24@gmail.com",password:"abc123",fullname:"Peter de Castro",type:"Savings Peso",number:"47290539483",balance:102938.34,isAdmin:!1},{email:"user34@gmail.com",password:"abc123",fullname:"Noli Enriquez",type:"Checking Peso",number:"47290539484",balance:837495.38,isAdmin:!1},{email:"kibabe@gmail.com",password:"abc123",fullname:"Karen Davila",type:"Checking Peso",number:"47290539485",balance:574839.58,isAdmin:!1}],i=n(0),u=function(){return Object(i.jsxs)("h1",{id:"logo",children:[Object(i.jsx)("i",{className:"bx bxs-paper-plane"})," Avion Bank"]})},b=function(e){var t=e.user,n=e.logoutHandler,a=e.changePage,c=null;return t||(c=Object(i.jsx)(m,{changePage:a,logoutHandler:n})),t&&(c=Object(i.jsx)(j,{changePage:a,logoutHandler:n})),Object(i.jsxs)("section",{id:"side-menu",children:[Object(i.jsx)(u,{}),c]})},j=function(e){var t=e.changePage,n=e.logoutHandler;return Object(i.jsxs)("ul",{children:[Object(i.jsx)(d,{onClickHandler:t,page:"home",icon:"bx bx-home",text:"Home"}),Object(i.jsx)(d,{onClickHandler:t,page:"budget",icon:"bx bx-money",text:"Budget App"}),Object(i.jsx)(d,{onClickHandler:t,page:"transfer",icon:"bx bx-transfer",text:"Fund Transfer"}),Object(i.jsx)(d,{onClickHandler:n,icon:"bx bx-log-out",text:"Logout"})]})},m=function(e){var t=e.changePage,n=e.logoutHandler;return Object(i.jsxs)("ul",{children:[Object(i.jsx)(d,{onClickHandler:t,page:"home",icon:"bx bx-home",text:"Home"}),Object(i.jsx)(d,{onClickHandler:t,page:"create-account",icon:"bx bx-user-pin",text:"Create Account"}),Object(i.jsx)(d,{onClickHandler:t,page:"transfer",icon:"bx bx-transfer",text:"Fund Transfer"}),Object(i.jsx)(d,{onClickHandler:t,page:"deposit",icon:"bx bx-money",text:"Deposit"}),Object(i.jsx)(d,{onClickHandler:t,page:"withdraw",icon:"bx bx-log-out-circle",text:"Withdraw"}),Object(i.jsx)(d,{onClickHandler:n,icon:"bx bx-log-out",text:"Logout"})]})},d=function(e){var t=e.icon,n=e.text,a=e.page;return Object(i.jsx)("li",{children:Object(i.jsxs)("a",{onClick:function(t){a?(t.preventDefault(),e.onClickHandler(a)):(t.preventDefault(),e.onClickHandler())},href:"#",children:[Object(i.jsx)("i",{className:t})," ",n]})})},g=n(3);function O(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}function f(e){return parseFloat(e.replace(/,/g,""))||0}function x(e){var t,n=JSON.parse(localStorage.getItem("users")),a=Object(g.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c.number===e)return c}}catch(s){a.e(s)}finally{a.f()}return!1}function h(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=1;"add"===n&&(c=1),"subtract"===n&&(c=-1);var s,r=JSON.parse(localStorage.getItem("users")),l=Object(g.a)(r);try{for(l.s();!(s=l.n()).done;){var o=s.value;o.number===e&&(o.balance+=t*c)}}catch(i){l.e(i)}finally{l.f()}a(r),localStorage.setItem("users",JSON.stringify(r))}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}var v=function(e){var t=e.type,n=e.accountNumber,a=e.balance,c=e.fullname;return Object(i.jsxs)("div",{className:"account",children:[Object(i.jsxs)("div",{className:"details",children:[Object(i.jsx)(y,{fullname:c}),Object(i.jsx)(S,{type:t}),Object(i.jsx)(C,{accountNumber:n})]}),Object(i.jsx)(N,{balance:O(a)})]})},y=function(e){return Object(i.jsx)("h1",{children:e.fullname})},S=function(e){return Object(i.jsx)("h3",{children:e.type})},C=function(e){return Object(i.jsx)("div",{children:e.accountNumber})},N=function(e){var t=e.balance;return Object(i.jsx)("div",{className:"balance",children:t})},w=function(e){var t=e.users.map((function(e,t){return Object(i.jsx)(v,{fullname:e.fullname,type:e.type,accountNumber:e.number,balance:e.balance},t)}));return Object(i.jsx)("section",{id:"main-content",children:t})},H=function(e){return Object(i.jsx)("div",{className:"notif ".concat(e.style),children:e.message})},A=function(e){var t=function(){return Math.floor(1e9+9e9*Math.random())},n=Object(a.useState)({message:"Create a new client account.",style:"left"}),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(0),u=Object(l.a)(o,2),b=u[0],j=u[1],m=Object(a.useState)(t()),d=Object(l.a)(m,2),g=d[0],x=d[1];return Object(i.jsx)("section",{id:"main-content",children:Object(i.jsxs)("form",{id:"form",onSubmit:function(n){n.preventDefault();var a=n.target.elements;(function(t){var n=e.users,a=!1;return n.forEach((function(e){e.email===t.email&&(a=!0)})),a?(r({message:"This email already exists. Try again.",style:"danger"}),!1):(r(""),n.unshift(t),e.setUsers(n),localStorage.setItem("users",JSON.stringify(n)),r({message:"Successfully saved.",style:"success"}),!0)})({email:a.email.value,password:a.password.value,fullname:a.fullname.value,type:a.accountType.value,number:a.accountNumber.value,isAdmin:!1,balance:f(a.initialBalance.value)})&&(a.email.value="",a.password.value="",a.fullname.value="",a.accountNumber.value=x(t()),a.initialBalance.value=j(0))},children:[Object(i.jsx)("h1",{children:"Create Account"}),Object(i.jsx)(H,{message:s.message,style:s.style}),Object(i.jsx)("label",{htmlFor:"fullname",children:"Full name"}),Object(i.jsx)("input",{id:"fullname",type:"text",autoComplete:"off",name:"fullname"}),Object(i.jsx)("hr",{}),Object(i.jsx)("label",{htmlFor:"account-number",children:"Account # (Randomly Generated)"}),Object(i.jsx)("input",{id:"account-number",name:"accountNumber",className:"right",value:g,type:"number",disabled:!0}),Object(i.jsx)("label",{htmlFor:"balance",children:"Initial balance"}),Object(i.jsx)("input",{id:"balance",type:"text",value:O(b),onChange:function(e){var t=f(e.target.value)||0;j(t)},name:"initialBalance",className:"right"}),Object(i.jsx)("label",{htmlFor:"account-type",children:"Account Type"}),Object(i.jsxs)("select",{name:"accountType",children:[Object(i.jsx)("option",{value:"Checking Account",children:"Checking Account"}),Object(i.jsx)("option",{value:"Savings Accounts",children:"Savings Account"})]}),Object(i.jsx)("hr",{}),Object(i.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(i.jsx)("input",{id:"email",type:"email",name:"email"}),Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{id:"password",type:"password",name:"password"}),Object(i.jsx)("input",{value:"Create Account",className:"btn",type:"submit"})]})})},k=function(e){var t=Object(a.useState)(e.users),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(c),o=Object(l.a)(r,2),u=o[0],b=o[1],j=Object(a.useState)({balance:0}),m=Object(l.a)(j,2),d=m[0],g=m[1],f=Object(a.useState)({balance:0}),x=Object(l.a)(f,2),h=x[0],p=x[1],v=Object(a.useState)({message:"Transfer money from one account to another.",style:"left"}),y=Object(l.a)(v,2),S=y[0],C=y[1],N=Object(a.useState)(0),w=Object(l.a)(N,2),A=w[0],k=w[1],P=c.map((function(e){return Object(i.jsxs)("option",{value:e.number,children:[e.fullname," #",e.number]})})),F=u.map((function(e){return Object(i.jsxs)("option",{value:e.number,children:[e.fullname," #",e.number]})}));return Object(i.jsx)("section",{id:"main-content",children:Object(i.jsxs)("form",{id:"form",onSubmit:function(t){t.preventDefault();var n=parseFloat(t.target.elements.amount.value.replace(/,/g,""));if(n<=0)return!1;console.log("Transfer");var a=JSON.parse(localStorage.getItem("users"));if(0!==d.number&&0!==h.number){var c=!1;a.forEach((function(e){e.number===d.number&&e.balance-n>=0&&(e.balance-=n,g(e),c=!0)})),c?(a.forEach((function(e){e.number===h.number&&(e.balance+=n,p(e))})),C({message:"Successful transfer.",style:"success"}),s(a),e.setUsers(a),localStorage.setItem("users",JSON.stringify(a)),k(0)):C({message:"Transfer failed.",style:"danger"})}else C({message:"Incomplete information. Missing sender or receiver.",style:"danger"})},children:[Object(i.jsx)("h1",{children:"Fund Transfer"}),Object(i.jsx)(H,{message:S.message,style:S.style}),Object(i.jsx)("h2",{children:"Sender"}),Object(i.jsx)("label",{children:"From (Sender)"}),Object(i.jsxs)("select",{onChange:function(e){var t=e.target.value,n=[],a=null;c.forEach((function(e){e.number===t?a=e:n.push(e)})),g(a),b(n),p({number:0,balance:0})},name:"sender",children:[Object(i.jsx)("option",{children:"Select Sender"}),P]}),Object(i.jsx)("label",{children:"Current balance"}),Object(i.jsx)("input",{type:"text",className:"right",value:O(d.balance),disabled:!0}),Object(i.jsx)("label",{children:"Amount to Transfer"}),Object(i.jsx)("input",{type:"text",name:"amount",value:O(A),onChange:function(e){var t=parseFloat(e.target.value.replace(/,/g,""))||0;k(t)},autoComplete:"off",className:"right big-input"}),Object(i.jsx)("div",{className:"transfer-icon",children:Object(i.jsx)("i",{className:"bx bx-down-arrow-alt"})}),Object(i.jsx)("h2",{children:"Receiver"}),Object(i.jsx)("label",{children:"To (Receiver)"}),Object(i.jsxs)("select",{value:h.number||0,onChange:function(e){var t=e.target.value,n=null;c.forEach((function(e){e.number===t&&(n=e)})),p(n)},name:"receiver",children:[Object(i.jsx)("option",{children:"Select Receiver"}),F]}),Object(i.jsx)("label",{children:"Current balance"}),Object(i.jsx)("input",{type:"text",className:"right",value:O(h.balance),disabled:!0}),Object(i.jsx)("input",{type:"submit",className:"btn",value:"Transfer Fund"})]})})},P=function(e){var t=JSON.parse(localStorage.getItem("users")),n=e.setNotif,c=e.notif,s=Object(a.useState)(t),r=Object(l.a)(s,2),o=r[0],u=r[1],b=Object(a.useState)({balance:0}),j=Object(l.a)(b,2),m=j[0],d=j[1],v=Object(a.useState)(0),y=Object(l.a)(v,2),S=y[0],C=y[1],N=o.map((function(e){return Object(i.jsxs)("option",{value:e.number,children:[e.fullname," #",e.number]})})),w="withdraw"===e.page?"bx bx-down-arrow-alt":"bx bx-up-arrow-alt";return Object(i.jsx)("section",{id:"main-content",children:Object(i.jsxs)("form",{id:"form",onSubmit:function(t){t.preventDefault();var a=f(t.target.elements.amount.value),c=t.target.elements.account.value;if(a>0&&"0"!==c){var s,r=Object(g.a)(o);try{for(r.s();!(s=r.n()).done;){var l=s.value;if(l.number===c){h(l.number,a,e.type,e.setUsers),d(x(l.number)),u(JSON.parse(localStorage.getItem("users"))),C(0),n({message:"".concat(p(e.page)," successful."),style:"success"});break}}}catch(i){r.e(i)}finally{r.f()}}else n({message:"".concat(p(e.page)," failed."),style:"danger"})},children:[Object(i.jsx)("h1",{children:e.page}),Object(i.jsx)(H,{message:c.message,style:c.style}),Object(i.jsx)("label",{children:"Account"}),Object(i.jsxs)("select",{name:"account",onChange:function(e){n(c);var t,a=e.target.value,s=Object(g.a)(o);try{for(s.s();!(t=s.n()).done;){var r=t.value;if(r.number===a){d(r);break}}}catch(l){s.e(l)}finally{s.f()}},children:[Object(i.jsx)("option",{value:"0",children:"Select Account"}),N]}),Object(i.jsx)("label",{children:"Current balance"}),Object(i.jsx)("input",{type:"text",className:"right",value:O(m.balance),disabled:!0}),Object(i.jsx)("div",{className:"transfer-icon",children:Object(i.jsx)("i",{className:w})}),Object(i.jsxs)("label",{children:["Amount to ",e.page]}),Object(i.jsx)("input",{type:"text",name:"amount",value:S,onChange:function(e){var t=O(f(e.target.value));C(t)},autoComplete:"off",className:"right big-input"}),Object(i.jsx)("button",{type:"submit",className:"btn",children:e.page})]})})},F=function(e){var t=Object(a.useState)("home"),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(e.users),o=Object(l.a)(r,2),u=o[0],j=o[1],m=Object(a.useState)({message:"",style:""}),d=Object(l.a)(m,2),g=d[0],O=d[1],f=function(e){s(e),"withdraw"===e&&O({message:"Select an account to withdraw money from.",style:"left"}),"deposit"===e&&O({message:"Select an account to deposit money.",style:"left"})};return"home"===c?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:f,logoutHandler:e.logoutHandler}),Object(i.jsx)(w,{users:u})]}):"create-account"===c?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:f,logoutHandler:e.logoutHandler}),Object(i.jsx)(A,{users:u,setUsers:j})]}):"transfer"===c?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:f,logoutHandler:e.logoutHandler}),Object(i.jsx)(k,{users:u,setUsers:j})]}):"deposit"===c?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:f,logoutHandler:e.logoutHandler}),Object(i.jsx)(P,{users:u,setUsers:j,notif:g,setNotif:O,type:"add",page:c})]}):"withdraw"===c?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:f,logoutHandler:e.logoutHandler}),Object(i.jsx)(P,{users:u,setUsers:j,notif:g,setNotif:O,type:"subtract",page:c})]}):void 0},I=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),b=o[0],j=o[1];return Object(i.jsx)("div",{id:"login-page",children:Object(i.jsxs)("div",{id:"login",children:[Object(i.jsx)(u,{}),Object(i.jsx)(H,{message:e.notif.message,style:e.notif.style}),Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.loginHandler(c,b)},children:[Object(i.jsx)("label",{htmlFor:"username",children:"Username"}),Object(i.jsx)("input",{id:"username",autoComplete:"off",onChange:function(e){s(e.target.value)},value:c,type:"text"}),Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{id:"password",autoComplete:"off",onChange:function(e){j(e.target.value)},value:b,type:"password"}),Object(i.jsx)("button",{type:"submit",className:"btn",children:"Login"})]})]})})},T=function(e){e.logout;var t=e.client,n=e.setClient,c=Object(a.useState)("home"),s=Object(l.a)(c,2),r=s[0],o=s[1],u=function(e){o(e);var a=x(t.number);n(a)};return"home"===r?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:u,user:t,logoutHandler:e.logout}),Object(i.jsx)(J,{user:t})]}):"budget"===r?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:u,user:t,logoutHandler:e.logout}),Object(i.jsx)("h1",{children:"Budget"})]}):"transfer"===r?Object(i.jsxs)("main",{children:[Object(i.jsx)(b,{changePage:u,user:t,logoutHandler:e.logout}),Object(i.jsx)("h1",{children:"Transfer"})]}):void 0},J=function(e){var t=e.user;return Object(i.jsxs)("section",{id:"main-content",children:[Object(i.jsx)("h1",{className:"main",children:"My Account"}),Object(i.jsx)(v,{type:t.type,accountNumber:t.number,balance:t.balance,fullname:t.fullname})]})},D=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({message:"",style:""}),r=Object(l.a)(s,2),u=r[0],b=r[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),d=m[0],g=m[1],O=Object(a.useState)(null),f=Object(l.a)(O,2),x=f[0],h=f[1];localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify(o));var p=JSON.parse(localStorage.getItem("users")),v=function(){c(!1),g(!1),localStorage.removeItem("client"),b({message:"You have logged out.",style:"success"})};return n?d?Object(i.jsx)(F,{users:p,logoutHandler:v}):(localStorage.setItem("currentUser",JSON.stringify(x)),Object(i.jsx)(T,{client:x,setClient:h,logout:v})):Object(i.jsx)(I,{loginHandler:function(e,t){(function(e,t){var n=!1;return p.forEach((function(a){a.email===e&&a.password===t&&(a.isAdmin?(g(!0),n=!0):(g(!1),h(a),n=!0),b(""))})),n||b({message:"Wrong username and password.",style:"danger"}),n})(e,t)&&c(!0)},notif:u,isLoggedIn:n})};var U=function(){return Object(i.jsx)(D,{})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(U,{})}),document.getElementById("root")),E()}},[[14,1,2]]]);
//# sourceMappingURL=main.1584c1b3.chunk.js.map